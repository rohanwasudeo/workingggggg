<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Hello World Light/Dark Toggle (Preview)</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <style>
      body.bg-dark {
        background-color: #23272f !important;
      }
      body.bg-light {
        background-color: #f8f9fa !important;
      }
      .card {
        transition: background 0.3s, color 0.3s, box-shadow 0.3s;
      }
      .btn {
        transition: background 0.3s, color 0.3s;
      }
    </style>
  </head>
  <body class="bg-light">
    <div id="root"></div>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    <script type="text/babel">
      function useTheme() {
        const [theme, setTheme] = React.useState(() => {
          const stored = localStorage.getItem("theme");
          return stored === "dark" ? "dark" : "light";
        });

        React.useEffect(() => {
          document.body.classList.remove("bg-light", "bg-dark");
          document.body.classList.add(`bg-${theme}`);
          localStorage.setItem("theme", theme);
        }, [theme]);

        const toggleTheme = () => setTheme((t) => (t === "light" ? "dark" : "light"));

        return { theme, toggleTheme };
      }

      function App() {
        const { theme, toggleTheme } = useTheme();
        return (
          <div className={`min-vh-100 d-flex flex-column justify-content-center align-items-center bg-${theme} text-${theme === "light" ? "dark" : "light"} animate__animated animate__fadeIn`}>
            <div className="card shadow-lg p-4 text-center animate__animated animate__zoomIn" style={{ background: theme === 'light' ? '#fff' : '#23272f', color: theme === 'light' ? '#222' : '#f8f9fa' }}>
              <h1 className="mb-4">Hello World</h1>
              <button
                className={`btn btn-${theme === "light" ? "dark" : "light"} d-flex align-items-center gap-2`}
                onClick={toggleTheme}
                aria-label="Toggle theme"
              >
                {theme === "light" ? (
                  <><i className="bi bi-moon-fill"></i> Dark Mode</>
                ) : (
                  <><i className="bi bi-sun-fill"></i> Light Mode</>
                )}
              </button>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
